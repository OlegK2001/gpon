# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–æ–≤

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. –ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Ü–µ–ª–∏ –ø—Ä–∏ –∞—Ç–∞–∫–µ –∏ –ø–ª–∞–≤–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- `types/network.ts` - –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `statusLevel?: number` –≤ `NetworkDevice`
- `store/networkStore.ts` - –¥–æ–±–∞–≤–ª–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ `applyImpactToNode()` –∏ `scheduleRecovery()`
- `components/nodes/DeviceNode.tsx` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∏–∑—É–∞–ª—å–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è `statusLevel`

**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**
- ‚úÖ –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∞—Ç–∞–∫–∏ —É–∑–µ–ª –ø–æ–ª—É—á–∞–µ—Ç `statusLevel = 1` (–∂—ë–ª—Ç—ã–π)
- ‚úÖ –ü—Ä–∏ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–∏ –∞—Ç–∞–∫–∏ `statusLevel` —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –¥–æ 2 (–æ—Ä–∞–Ω–∂–µ–≤—ã–π) –∏ 3 (–∫—Ä–∞—Å–Ω—ã–π)
- ‚úÖ –ü–æ—Å–ª–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∞—Ç–∞–∫–∏ `statusLevel` –ø–ª–∞–≤–Ω–æ —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è –Ω–∞ 1 –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥
- ‚úÖ –í–∏–∑—É–∞–ª—å–Ω–æ: —Ü–≤–µ—Ç–æ–≤–∞—è —Ä–∞–º–∫–∞ –≤–æ–∫—Ä—É–≥ —É–∑–ª–∞ (ring) –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ —Å—Ç–∞—Ç—É—Å–∞
- ‚úÖ –ü—Ä–∏ `statusLevel = 3` –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∞–Ω–∏–º–∞—Ü–∏—è –ø—É–ª—å—Å–∞—Ü–∏–∏

---

### 2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ `computeEdgePoints` –¥–ª—è —É—á—ë—Ç–∞ `strokeWidth`

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- `components/PacketAnimation.tsx` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `computeEdgePoints()` —Å —É—á—ë—Ç–æ–º `strokeWidth`

**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**
- ‚úÖ –§—É–Ω–∫—Ü–∏—è `computeEdgePoints()` —Ç–µ–ø–µ—Ä—å —É—á–∏—Ç—ã–≤–∞–µ—Ç `strokeWidth` –ø—Ä–∏ —Ä–∞—Å—á—ë—Ç–µ —Å–º–µ—â–µ–Ω–∏—è:
  ```typescript
  const inset = radius + strokeWidth / 2 + 2
  const outset = radius + strokeWidth / 2 + 2
  ```
- ‚úÖ –ü–∞–∫–µ—Ç—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä—É—é—Ç—Å—è –Ω–∞ –ª–∏–Ω–∏—è—Ö, –Ω–µ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞—è —É–∑–ª—ã
- ‚úÖ –£—á—Ç—ë–Ω —Ä–∞–¥–∏—É—Å —É–∑–ª–∞ (28px) –∏ —Ç–æ–ª—â–∏–Ω–∞ –ª–∏–Ω–∏–∏ (3px)

---

### 3. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ Save/Load –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ–ª–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- `store/networkStore.ts` - –¥–æ–±–∞–≤–ª–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ `saveProject()` –∏ `loadProject()`
- `components/Toolbar.tsx` - –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –∫–Ω–æ–ø–∫–∏ Save/Load –∫ —Ñ—É–Ω–∫—Ü–∏—è–º

**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤–∫–ª—é—á–∞–µ—Ç:
  - `topology` (devices, connections)
  - `simulation.isRunning`, `simulation.speed`
  - `simulation.attacks` (–∞–∫—Ç–∏–≤–Ω—ã–µ –∞—Ç–∞–∫–∏)
  - `simulation.logs`
- ‚úÖ –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ `localStorage` —Å –∫–ª—é—á–æ–º `gpon_project`
- ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç –≤ JSON —Ñ–∞–π–ª –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏
- ‚úÖ –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –∞—Ç–∞–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏

---

### 4. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–µ–π –ø–æ–¥ —É–∑–ª–∞–º–∏ (id, type, serial)

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- `components/nodes/DeviceNode.tsx` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–¥–ø–∏—Å–∏ –ø–æ–¥ —É–∑–ª–∞–º–∏
- `types/network.ts` - –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `serialNumber?: string`

**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è `device.name` (—Å title –∞—Ç—Ä–∏–±—É—Ç–æ–º, —Å–æ–¥–µ—Ä–∂–∞—â–∏–º `device.id`)
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è `device.type` –∏ `device.serialNumber` (–µ—Å–ª–∏ –µ—Å—Ç—å)
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è `device.ipAddress` (–µ—Å–ª–∏ –µ—Å—Ç—å)
- ‚úÖ –§–æ—Ä–º–∞—Ç: `name` –Ω–∞ –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–æ–∫–µ, `type ‚Ä¢ serialNumber` –Ω–∞ –≤—Ç–æ—Ä–æ–π, `ipAddress` –Ω–∞ —Ç—Ä–µ—Ç—å–µ–π

---

### 5. –£–ª—É—á—à–µ–Ω–∏–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –ø–∞–∫–µ—Ç–æ–≤

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- `components/PacketAnimation.tsx` - —É–ª—É—á—à–µ–Ω–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `computeEdgePoints()` –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞–∫–µ—Ç–æ–≤ –Ω–∞ –ª–∏–Ω–∏—è—Ö
- ‚úÖ –ü—Ä–∏ –ø—Ä–∏–±—ã—Ç–∏–∏ –ø–∞–∫–µ—Ç–∞ –≤ –ø—É–Ω–∫—Ç –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è —Å–æ–±—ã—Ç–∏–µ
- ‚úÖ –£—á—Ç—ë–Ω `strokeWidth` –ø—Ä–∏ —Ä–∞—Å—á—ë—Ç–µ –ø–æ–∑–∏—Ü–∏–π –ø–∞–∫–µ—Ç–æ–≤

---

### 6. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∞—Ç–∞–∫ —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π —É–∑–ª–æ–≤

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- `store/networkStore.ts` - –æ–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `launchAttack()`

**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**
- ‚úÖ –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∞—Ç–∞–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è `applyImpactToNode()` –∫ —Ü–µ–ª–∏
- ‚úÖ –ü—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–∞–∫–µ—Ç–æ–≤ –∞—Ç–∞–∫–∏ –∫–∞–∂–¥—ã–µ 5 –ø–∞–∫–µ—Ç–æ–≤ —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç `statusLevel` –Ω–∞ 0.2
- ‚úÖ –ü—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ –∞—Ç–∞–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è `scheduleRecovery()` –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

---

## üìù –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–±—ã—Ç–∏—è –ø–∞–∫–µ—Ç–æ–≤ –≤ –ø—É–Ω–∫—Ç –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ–≥–æ–≤ –≤ `localStorage` —Å –∫–ª—é—á–æ–º `gpon_logs` (–¥–æ 5000 –∑–∞–ø–∏—Å–µ–π)

### –í–∏–∑—É–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è
- ‚úÖ –ê–Ω–∏–º–∞—Ü–∏—è –ø—É–ª—å—Å–∞—Ü–∏–∏ –¥–ª—è —É–∑–ª–æ–≤ —Å `statusLevel = 3` (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —Å—Ç–∞—Ç—É—Å)
- ‚úÖ –¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–∞: –∂—ë–ª—Ç—ã–π ‚Üí –æ—Ä–∞–Ω–∂–µ–≤—ã–π ‚Üí –∫—Ä–∞—Å–Ω—ã–π

---

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –ø—Ä–∏ –∞—Ç–∞–∫–µ:
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∏–º—É–ª—è—Ü–∏—é (Start)
2. –í—ã–±–µ—Ä–∏—Ç–µ –∞—Ç–∞–∫—É –≤ Security Panel
3. –í—ã–±–µ—Ä–∏—Ç–µ –∏—Å—Ç–æ—á–Ω–∏–∫ –∏ —Ü–µ–ª—å
4. –¶–µ–ª–µ–≤–æ–π —É–∑–µ–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Å–≤–µ—Ç–∏—Ç—Å—è (–∂—ë–ª—Ç—ã–π ‚Üí –æ—Ä–∞–Ω–∂–µ–≤—ã–π ‚Üí –∫—Ä–∞—Å–Ω—ã–π)
5. –ü–æ—Å–ª–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∞—Ç–∞–∫–∏ —É–∑–µ–ª –ø–ª–∞–≤–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è

### Save/Load:
1. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "Save" –≤ Toolbar ‚Üí –ø—Ä–æ–µ–∫—Ç —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ localStorage –∏ —Å–∫–∞—á–∞–µ—Ç—Å—è JSON —Ñ–∞–π–ª
2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "Load" –≤ Toolbar ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ JSON —Ñ–∞–π–ª –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏

### –ü–æ–¥–ø–∏—Å–∏ —É–∑–ª–æ–≤:
- –ü—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ `name` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è tooltip —Å `id`
- –ü–æ–¥ —É–∑–ª–æ–º –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è `type ‚Ä¢ serialNumber` (–µ—Å–ª–∏ –µ—Å—Ç—å)
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è `ipAddress` (–µ—Å–ª–∏ –µ—Å—Ç—å)

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### statusLevel –∑–Ω–∞—á–µ–Ω–∏—è:
- `0` = –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å (–∑–µ–ª—ë–Ω—ã–π)
- `1` = –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ (–∂—ë–ª—Ç—ã–π)
- `2` = —É–º–µ—Ä–µ–Ω–Ω–∞—è —É–≥—Ä–æ–∑–∞ (–æ—Ä–∞–Ω–∂–µ–≤—ã–π)
- `3` = –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —Å—Ç–∞—Ç—É—Å (–∫—Ä–∞—Å–Ω—ã–π, —Å –ø—É–ª—å—Å–∞—Ü–∏–µ–π)

### computeEdgePoints –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
- `radius: number = 28` - —Ä–∞–¥–∏—É—Å —É–∑–ª–∞ –≤ –ø–∏–∫—Å–µ–ª—è—Ö
- `strokeWidth: number = 3` - —Ç–æ–ª—â–∏–Ω–∞ –ª–∏–Ω–∏–∏ –≤ –ø–∏–∫—Å–µ–ª—è—Ö
- –§–æ—Ä–º—É–ª–∞: `inset/outset = radius + strokeWidth/2 + 2`

### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞:
- –ö–ª—é—á –≤ localStorage: `gpon_project`
- –í–µ—Ä—Å–∏—è —Ñ–æ—Ä–º–∞—Ç–∞: `1.0`
- –í–∫–ª—é—á–∞–µ—Ç: topology, simulation state, attacks, logs

